commit 39ba7e9a48baaa55c678a6e01573d02a4f8bcca0
Author: TheMrcool212 <munirmohamadrani@gmail.com>
Date:   Sun Feb 23 16:59:03 2014 +0530

    [2/2] OmniGears: Clock font style
    
    Base: https://gerrit.omnirom.org/#/c/5760/
    
    Change-Id: Ie607d313f36f30b66b38d7e605a799baa34a37b0

diff --git a/res/values/custom_arrays.xml b/res/values/custom_arrays.xml
index 1168011..64bbc70 100644
--- a/res/values/custom_arrays.xml
+++ b/res/values/custom_arrays.xml
@@ -338,6 +338,22 @@
         <item>2</item>
     </string-array>
 
+    <string-array name="clock_font_style_entries">
+        <item>@string/clock_font_bold</item>
+        <item>@string/clock_font_condensed</item>
+        <item>@string/clock_font_light</item>
+        <item>@string/clock_font_light_italic</item>
+        <item>@string/clock_font_normal</item>
+    </string-array>
+
+    <string-array name="clock_font_style_values" translatable="false">
+        <item>0</item>
+        <item>1</item>
+        <item>2</item>
+        <item>3</item>
+        <item>4</item>
+    </string-array>
+
     <string-array name="clock_date_display_entries" translatable="false">
         <item>@string/clock_date_display_none</item>
         <item>@string/clock_date_display_small</item>
diff --git a/res/values/custom_strings.xml b/res/values/custom_strings.xml
index a50fd30..d706549 100644
--- a/res/values/custom_strings.xml
+++ b/res/values/custom_strings.xml
@@ -486,6 +486,12 @@
     <string name="clock_date_style_normal">Normal</string>
     <string name="clock_date_style_lowercase">Lowercase</string>
     <string name="clock_date_style_uppercase">Uppercase</string>
+    <string name="clock_font_style_title">Font</string>
+    <string name="clock_font_bold">Bold</string>
+    <string name="clock_font_condensed">Condensed</string>
+    <string name="clock_font_light">Light</string>
+    <string name="clock_font_light_italic">Light Italic</string>
+    <string name="clock_font_normal">Normal</string>
 
     <!-- Lockscreen battery ring -->
     <string name="battery_around_lockscreen_ring">Battery around unlock ring</string>
@@ -508,5 +514,4 @@
     <!-- Background -->
     <string name="see_through_title">See through</string>
     <string name="see_through_summary">Show content behind lock screen. Data may be visible to those around you</string>
-
 </resources>
diff --git a/res/xml/status_bar_clock_style.xml b/res/xml/status_bar_clock_style.xml
index 28f9062..97eff1a 100644
--- a/res/xml/status_bar_clock_style.xml
+++ b/res/xml/status_bar_clock_style.xml
@@ -42,6 +42,14 @@
             android:persistent="false"/>
 
         <ListPreference
+            android:key="font_style"
+            android:title="@string/clock_font_style_title"
+            android:dependency="status_bar_show_clock"
+            android:entries="@array/clock_font_style_entries"
+            android:entryValues="@array/clock_font_style_values"
+            android:persistent="false"/>
+
+        <ListPreference
             android:key="clock_date_display"
             android:title="@string/clock_date_display"
             android:summary="@string/clock_date_display_summary"
diff --git a/src/org/omnirom/omnigears/slim/StatusBarClockStyle.java b/src/org/omnirom/omnigears/slim/StatusBarClockStyle.java
index af73dd4..5c7a012 100644
--- a/src/org/omnirom/omnigears/slim/StatusBarClockStyle.java
+++ b/src/org/omnirom/omnigears/slim/StatusBarClockStyle.java
@@ -41,6 +41,7 @@ public class StatusBarClockStyle extends SettingsPreferenceFragment
 
     private static final String PREF_ENABLE = "clock_style";
     private static final String PREF_AM_PM_STYLE = "status_bar_am_pm";
+    private static final String PREF_FONT_STYLE = "font_style";
     private static final String PREF_CLOCK_DATE_DISPLAY = "clock_date_display";
     private static final String PREF_CLOCK_DATE_STYLE = "clock_date_style";
     private static final String PREF_CLOCK_DATE_FORMAT = "clock_date_format";
@@ -51,6 +52,7 @@ public class StatusBarClockStyle extends SettingsPreferenceFragment
 
     private ListPreference mClockStyle;
     private ListPreference mClockAmPmStyle;
+    private ListPreference mClockFontStyle;
     private ListPreference mClockDateDisplay;
     private ListPreference mClockDateStyle;
     private ListPreference mClockDateFormat;
@@ -86,6 +88,13 @@ public class StatusBarClockStyle extends SettingsPreferenceFragment
         }
         mClockAmPmStyle.setEnabled(!is24hour);
 
+        mClockFontStyle = (ListPreference) findPreference(PREF_FONT_STYLE);
+        mClockFontStyle.setOnPreferenceChangeListener(this);
+        mClockFontStyle.setValue(Integer.toString(Settings.System.getInt(getActivity()
+                .getContentResolver(), Settings.System.STATUSBAR_CLOCK_FONT_STYLE,
+                4)));
+        mClockFontStyle.setSummary(mClockFontStyle.getEntry());
+
         mClockDateDisplay = (ListPreference) findPreference(PREF_CLOCK_DATE_DISPLAY);
         mClockDateDisplay.setOnPreferenceChangeListener(this);
         mClockDateDisplay.setValue(Integer.toString(Settings.System.getInt(getActivity()
@@ -153,6 +162,13 @@ public class StatusBarClockStyle extends SettingsPreferenceFragment
                     Settings.System.STATUSBAR_CLOCK_STYLE, val);
             mClockStyle.setSummary(mClockStyle.getEntries()[index]);
             return true;
+        } else if (preference == mClockFontStyle) {
+            int val = Integer.parseInt((String) newValue);
+            int index = mClockFontStyle.findIndexOfValue((String) newValue);
+            Settings.System.putInt(getActivity().getContentResolver(),
+                    Settings.System.STATUSBAR_CLOCK_FONT_STYLE, val);
+            mClockFontStyle.setSummary(mClockFontStyle.getEntries()[index]);
+            return true;
         } else if (preference == mClockDateDisplay) {
             int val = Integer.parseInt((String) newValue);
             int index = mClockDateDisplay.findIndexOfValue((String) newValue);
